# üê∂üê± Dataset Fixer ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üî• –û–ø–∏—Å–∞–Ω–∏–µ
`Dataset Fixer` ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω—ã–π Python-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, —Ç–∞–∫–∏–µ –∫–∞–∫:

‚úÖ **–ë–∏—Ç—ã–µ —Ñ–∞–π–ª—ã** ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –∏–ª–∏ –∏–º–µ—é—Ç –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏.

‚úÖ **–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** ‚Äî –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–µ, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –º–∞–ª–æ —Ü–≤–µ—Ç–æ–≤ (–ª–æ–≥–æ—Ç–∏–ø—ã, –∑–∞–≥–ª—É—à–∫–∏) –∏–ª–∏ —Å –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Photo Unavailable").

‚úÖ **–î—É–±–ª–∏–∫–∞—Ç—ã** ‚Äî –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ —Ö—ç—à—É), –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –¥–∞–Ω–Ω—ã—Ö.

‚úÖ **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –ø–∞–ø–∫–∞–º (`cat` –∏ `dog`).

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
pip install pillow numpy tqdm imagehash pytesseract
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `Tesseract OCR` (–¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ —Ç–∞–∫:

**Linux (Ubuntu/Debian):**
```bash
sudo apt install tesseract-ocr
```

**Windows:**
–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Tesseract OCR](https://github.com/UB-Mannheim/tesseract/wiki) –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `PATH`.

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üìå –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞
–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞ –±–∏—Ç—ã–µ —Ñ–∞–π–ª—ã, –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
python dataset_fixer.py --check
```

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã, –æ–Ω–∏ –±—É–¥—É—Ç –≤—ã–≤–µ–¥–µ–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª—å.

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (—É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏ –ø–ª–æ—Ö–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
–ß—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—å –±–∏—Ç—ã–µ —Ñ–∞–π–ª—ã, –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```bash
python dataset_fixer.py --fix
```

### üìÇ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ –ø–∞–ø–∫–∞–º
–ï—Å–ª–∏ –≤ –≤–∞—à–µ–º –¥–∞—Ç–∞—Å–µ—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∞–Ω—ã (`cat_01.jpg`, `dog_42.png` –∏ —Ç.–¥.), –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑–ª–æ–∂–∏—Ç—å –∏—Ö –ø–æ –ø–∞–ø–∫–∞–º:

```bash
python dataset_fixer.py --distribute
```

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `list_truncated_images(directory)` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞–ø–∫—É –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –±–∏—Ç—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. |
| `is_blank_image(image_path)` | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–º. |
| `is_low_color_image(image_path, threshold=50)` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞–ª–æ —Ü–≤–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥–ª—É—à–∫–∏). |
| `contains_unavailable_text(image_path)` | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OCR –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞–¥–ø–∏—Å–µ–π –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö. |
| `find_duplicates(folders)` | –ò—â–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø–∞–ø–∫–∞—Ö. |
| `remove_duplicates(duplicates)` | –£–¥–∞–ª—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã. |
| `distribute_images(source_dir, target_dir)` | –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –ø–∞–ø–∫–∞–º (`cat`, `dog`). |

## üèéÔ∏è –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

### –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞:
```bash
python dataset_fixer.py --check --fix
```

### –û—á–∏—Å—Ç–∫–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:
```bash
python dataset_fixer.py --fix --distribute
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—É—Å–∫–µ:
```bash
python dataset_fixer.py --check --fix --distribute
```

## üìå –ó–∞–º–µ—Ç–∫–∏
- –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `multiprocessing` –∏ `concurrent.futures` –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- OCR (Tesseract) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ç–∞–π–º–∞—É—Ç–æ–º 5 —Å–µ–∫—É–Ω–¥, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∑–∞–≤–∏—Å–∞–Ω–∏–π.
- –î—É–±–ª–∏–∫–∞—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ —Ö—ç—à—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`imagehash.average_hash`).

## üèÜ –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞ –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥, —Å–æ–∑–¥–∞–π—Ç–µ [Issue](https://github.com/your-repo/dataset-fixer/issues) –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ Pull Request!

Happy cleaning! üöÄüêæ
